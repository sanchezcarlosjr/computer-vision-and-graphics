---
layout: default
title:  "Exercise 1 - Show an image by OpenCV"
---
<style>
container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    width: 100%;
}

canvas {
	width: 100%;
	border: none;
	padding: 0;
	margin: 0;
	display: block;
}
</style>

<p id="status">OpenCV.js is loading...</p>

<container>
  <input type="file" id="fileInput" name="file" />
  <img id="img" alt="No Image" />
  <canvas id="canvas">Your browser does not seem to support HTML canvas.</canvas>
</container>

<script async src="https://docs.opencv.org/4.7.0/opencv.js" type="text/javascript"></script>

<script>
	let imgElement = document.getElementById('img');
	let inputElement = document.getElementById('fileInput');
	inputElement.addEventListener('change', (e) => {
		imgElement.src = URL.createObjectURL(e.target.files[0]);
	}, false);
	imgElement.onload = function() {
		let mat = cv.imread(imgElement);
		cv.imshow('canvas', mat);
		mat.delete();
	};
	const Module = {
		// https://emscripten.org/docs/api_reference/module.html#Module.onRuntimeInitialized
		onRuntimeInitialized() {
			document.getElementById('status').innerHTML = 'OpenCV.js is ready.';
		}
	};
</script>
